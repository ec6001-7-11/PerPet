/**
 * @license
 *
 * @copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * @copyright (c) 2012, Log-Normal, Inc.  All rights reserved.
 * @copyright (c) 2012-2016, SOASTA, Inc. All rights reserved.
 *
 * @copyright (c), Buddy Brewer.
 *
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
function configAndSendBeacon(e){e.detail.BOOMR.subscribe("before_beacon",function(t){var n=window.SectionioAnalyticsConfig;e.detail.BOOMR.addVar("sctio_env",n&&n.sqrum),e.detail.BOOMR.addVar("sq_pt",window.sq_pagetype_override||"Uncategorized")}),e.detail.BOOMR.init({beacon_url:"https://bacon.section.io/navigationtiming",site_domain:document.location.hostname.replace(/^www\./i,""),log:null,cfg_loaded:!0,RT:{strict_referrer:!1}})}function BOOMR_check_doc_domain(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(e){BOOMR.isCrossOriginError(e)||BOOMR.addError(e,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(-1!==e.indexOf(".")){try{return void window.parent.document}catch(t){document.domain=e}try{return void window.parent.document}catch(t){e=e.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(e)}}}var sq_rumversion=3;document.addEventListener?document.addEventListener("onBoomerangLoaded",function(e){configAndSendBeacon(e)}):document.attachEvent&&document.attachEvent("onpropertychange",function(e){e||(e=event),"onBoomerangLoaded"===e.propertyName&&configAndSendBeacon(e)}),BOOMR_start=(new Date).getTime(),BOOMR_check_doc_domain(),function(e){var t,n,r,i,o,a,s,d,u=e;e.parent!==e&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(e=e.parent,i=document.getElementById("boomr-if-as").src),r=e.document,e.BOOMR||(e.BOOMR={}),BOOMR=e.BOOMR,BOOMR.version||(BOOMR.version="%boomerang_version%",BOOMR.window=e,BOOMR.boomerang_frame=u,BOOMR.plugins||(BOOMR.plugins={}),function(){try{void 0!==new e.CustomEvent("CustomEvent")&&(o=function(t,n){return new e.CustomEvent(t,n)})}catch(e){}try{!o&&r.createEvent&&r.createEvent("CustomEvent")&&(o=function(e,t){var n=r.createEvent("CustomEvent");return t=t||{cancelable:!1,bubbles:!1},n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n})}catch(e){}!o&&r.createEventObject&&(o=function(e,t){var n=r.createEventObject();return n.type=n.propertyName=e,n.detail=t.detail,n}),o||(o=function(){})}(),a=function(e,t,n){function i(){r.dispatchEvent?r.dispatchEvent(a):r.fireEvent&&r.fireEvent("onpropertychange",a)}var a=o(e,{detail:t});a&&(n?BOOMR.setImmediate(i):i())},void 0!==document.hidden?(s="visibilityState",d="visibilitychange"):void 0!==document.mozHidden?(s="mozVisibilityState",d="mozvisibilitychange"):void 0!==document.msHidden?(s="msVisibilityState",d="msvisibilitychange"):void 0!==document.webkitHidden&&(s="webkitVisibilityState",d="webkitvisibilitychange"),t={beacon_url:"",beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,site_domain:e.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},xb_handler:function(n){return function(r){var i;r||(r=e.event),r.target?i=r.target:r.srcElement&&(i=r.srcElement),3===i.nodeType&&(i=i.parentNode),i&&"OBJECT"===i.nodeName.toUpperCase()&&"application/x-shockwave-flash"===i.type||t.fireEvent(n,i)}},fireEvent:function(e,t){var n,r,i;if(e=e.toLowerCase(),this.events.hasOwnProperty(e))for(this.public_events.hasOwnProperty(e)&&a(this.public_events[e],t),i=this.events[e],"before_beacon"!==e&&"onbeacon"!==e&&BOOMR.real_sendBeacon(),n=0;n<i.length;n++)try{r=i[n],r.fn.call(r.scope,t,r.cb_data)}catch(t){BOOMR.addError(t,"fireEvent."+e+"<"+n+">")}}},n={t_start:BOOMR_start,url:i,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},utils:{objectToString:function(e,t,n){var r,i=[];if(!e||"object"!=typeof e)return e;if(void 0===t&&(t="\n\t"),n||(n=0),"[object Array]"===Object.prototype.toString.call(e)){for(r=0;r<e.length;r++)n>0&&null!==e[r]&&"object"==typeof e[r]?i.push(this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(e[r])):i.push(e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n>0&&null!==e[r]&&"object"==typeof e[r]?i.push(encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r])):i.push(r+"="+e[r]));return i.join(t)},getCookie:function(e){if(!e)return null;e=" "+e+"=";var t,n;return n=" "+r.cookie+";",(t=n.indexOf(e))>=0?(t+=e.length,n=n.substring(t,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")):void 0},setCookie:function(e,n,i){var o,a,s,d,u;if(!e||!t.site_domain)return BOOMR.debug("No cookie name or site domain: "+e+"/"+t.site_domain),!1;if(o=this.objectToString(n,"&"),a=e+'="'+o+'"',d=[a,"path=/","domain="+t.site_domain],i&&(u=new Date,u.setTime(u.getTime()+1e3*i),u=u.toGMTString(),d.push("expires="+u)),a.length<500){if(r.cookie=d.join("; "),s=this.getCookie(e),o===s)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+o+"\n"+s)}else BOOMR.warn("Cookie too long: "+a.length+" "+a);return!1},getSubCookies:function(e){var t,n,r,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return BOOMR.debug("TypeError: cookie is not a string: "+typeof e),null;for(t=e.split("&"),n=0,r=t.length;n<r;n++)i=t[n].split("="),i[0]&&(i.push(""),a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),o=!0);return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},cleanupURL:function(e,n){if(!e||"[object Array]"===Object.prototype.toString.call(e))return"";if(t.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted")),void 0!==n&&e&&e.length>n){var r=e.indexOf("?");e=-1!==r&&r<n?e.substr(0,r)+"?...":e.substr(0,n-3)+"..."}return e},hashQueryString:function(e,t){return e?e.match?(e.match(/^\/\//)&&(e=location.protocol+e),e.match(/^(https?|file):/)?(t&&(e=e.replace(/#.*/,"")),BOOMR.utils.MD5?e.replace(/\?([^#]*)/,function(e,t){return"?"+(t.length>10?BOOMR.utils.MD5(t):t)}):e):(BOOMR.error("Passed in URL is invalid: "+e),"")):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e),""):e},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)void 0!==t[n][r[i]]&&(e[r[i]]=t[n][r[i]],o++);return o>0},arrayFilter:function(e,t){var n=[];if("function"==typeof e.filter)n=e.filter(t);else for(var r,i=-1,o=e.length;++i<o;)r=e[i],t(r,i,e)&&(n[n.length]=r);return n},addObserver:function(e,t,n,r,i,o){function a(e){var t=!1;s.timer&&(clearTimeout(s.timer),s.timer=null),r&&((t=r.call(o,e,i))||(r=null)),!t&&s.observer&&(s.observer.disconnect(),s.observer=null),"number"==typeof t&&t>0&&(s.timer=setTimeout(a,t))}var s={observer:null,timer:null};return window.MutationObserver&&r&&e?(s.observer=new MutationObserver(a),n&&(s.timer=setTimeout(a,s.timeout)),s.observer.observe(e,t),s):null},addListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},removeListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},pushVars:function(e,t,n){var r,i,o,a=0;for(r in t)if(t.hasOwnProperty(r))if("[object Array]"===Object.prototype.toString.call(t[r]))for(i=0;i<t[r].length;++i)a+=BOOMR.utils.pushVars(e,t[r][i],r+"["+i+"]");else o=document.createElement("input"),o.type="hidden",o.name=n?n+"["+r+"]":r,o.value=void 0===t[r]||null===t[r]?"":t[r],e.appendChild(o),a+=encodeURIComponent(o.name).length+encodeURIComponent(o.value).length+2;return a},inArray:function(e,t){var n;if(void 0===e||void 0===t||!t.length)return!1;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getQueryParamValue:function(e,t){var n,r,i,o;if(!e)return null;for("string"==typeof t?(n=BOOMR.window.document.createElement("a"),n.href=t):n="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location,r=n.search.slice(1).split(/&/),i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("="),o.length&&o[0]===e))return decodeURIComponent(o[1].replace(/\+/g," "));return null}},init:function(n){var i,o,a=["beacon_url","beacon_type","beacon_auth_key","beacon_auth_token","site_domain","user_ip","strip_query_string","secondary_beacons","autorun"];if(BOOMR_check_doc_domain(),n||(n={}),n.primary&&t.handlers_attached)return this;void 0!==n.log&&(this.log=n.log),this.log||(this.log=function(){}),void 0!==n.autorun&&(t.autorun=n.autorun),void 0!==n.site_domain&&(t.site_domain=n.site_domain);for(o in this.plugins)if(this.plugins.hasOwnProperty(o)){if(n[o]&&n[o].hasOwnProperty("enabled")&&!1===n[o].enabled){t.disabled_plugins[o]=1,"function"==typeof this.plugins[o].disable&&this.plugins[o].disable();continue}if(t.disabled_plugins[o]){if(!n[o]||!n[o].hasOwnProperty("enabled")||!0!==n[o].enabled)continue;"function"==typeof this.plugins[o].enable&&this.plugins[o].enable(),delete t.disabled_plugins[o]}if("function"==typeof this.plugins[o].init)try{this.plugins[o].init(n)}catch(e){BOOMR.addError(e,o+".init")}}for(i=0;i<a.length;i++)void 0!==n[a[i]]&&(t[a[i]]=n[a[i]]);return t.handlers_attached?this:(t.onloadfired||void 0!==n.autorun&&!1===n.autorun||(r.readyState&&"complete"===r.readyState?(BOOMR.loadedLate=!0,this.setImmediate(BOOMR.page_ready_autorun,null,null,BOOMR)):e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pageshow",BOOMR.page_ready_autorun):BOOMR.utils.addListener(e,"load",BOOMR.page_ready_autorun)),BOOMR.utils.addListener(e,"DOMContentLoaded",function(){t.fireEvent("dom_loaded")}),function(){var n,i;for(void 0!==d&&(BOOMR.utils.addListener(r,d,function(){t.fireEvent("visibility_changed")}),t.lastVisibilityState=BOOMR.visibilityState(),BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now(),"prerender"===t.lastVisibilityState&&"prerender"!==e&&(BOOMR.addVar("vis.pre","1"),t.fireEvent("prerender_to_visible")),t.lastVisibilityState=e})),BOOMR.utils.addListener(r,"mouseup",t.xb_handler("click")),n=r.getElementsByTagName("form"),i=0;i<n.length;i++)BOOMR.utils.addListener(n[i],"submit",t.xb_handler("form_submit"));e.onpagehide||null===e.onpagehide||BOOMR.utils.addListener(e,"unload",function(){BOOMR.window=e=null})}(),t.handlers_attached=!0,this)},page_ready_autorun:function(e){t.autorun&&BOOMR.page_ready(e)},page_ready:function(n){return n||(n=e.event),n||(n={name:"load"}),t.onloadfired?this:(t.fireEvent("page_ready",n),t.onloadfired=!0,this)},setImmediate:function(t,n,r,i){var o,a;"undefined"!=typeof Error&&(a=new Error,a=a.stack?a.stack.replace(/^Error/,"Called"):void 0),o=function(){t.call(i||null,n,r||{},a),o=null},e.setImmediate?e.setImmediate(o):e.msSetImmediate?e.msSetImmediate(o):e.webkitSetImmediate?e.webkitSetImmediate(o):e.mozSetImmediate?e.mozSetImmediate(o):setTimeout(o,10)},now:function(){try{var e=BOOMR.getPerformance();if(e&&"function"==typeof e.now)return function(){return Math.round(e.now()+e.timing.navigationStart)}}catch(e){}return Date.now||function(){return(new Date).getTime()}}(),getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},visibilityState:void 0===s?function(){return"visible"}:function(){return r[s]},lastVisibilityEvent:{},registerEvent:function(e){return t.events.hasOwnProperty(e)?this:(t.events[e]=[],this)},fireEvent:function(e,n){return t.fireEvent(e,n)},subscribe:function(n,r,i,o){var a,s,d;for(n=n.toLowerCase(),t.events.hasOwnProperty(n)||(t.events[n]=[]),d=t.events[n],a=0;a<d.length;a++)if((s=d[a])&&s.fn===r&&s.cb_data===i&&s.scope===o)return this;return d.push({fn:r,cb_data:i||{},scope:o||null}),"page_ready"===n&&t.onloadfired&&t.autorun&&this.setImmediate(r,null,i,o),"page_unload"!==n&&"before_unload"!==n||function(){var a,s=d.length;a=function(a){r&&r.call(o,a||e.event,i),"page_unload"===n&&s===t.events[n].length&&BOOMR.real_sendBeacon()},"page_unload"===n&&(e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pagehide",a):BOOMR.utils.addListener(e,"unload",a)),BOOMR.utils.addListener(e,"beforeunload",a)}(),this},addError:function(e,n,r){var i,o=BOOMR.plugins.Errors;if(o&&o.is_supported())return void("string"==typeof e?o.send({message:e,extra:r,functionName:n,noStack:!0},o.VIA_APP,o.SOURCE_BOOMERANG):("string"==typeof n&&(e.functionName=n),void 0!==r&&(e.extra=r),o.send(e,o.VIA_APP,o.SOURCE_BOOMERANG)));"string"!=typeof e&&(i=String(e),i.match(/^\[object/)&&(i=e.name+": "+(e.description||e.message).replace(/\r\n$/,"")),e=i),void 0!==n&&(e="["+n+":"+BOOMR.now()+"] "+e),r&&(e+=":: "+r),t.errors[e]?t.errors[e]++:t.errors[e]=1},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)},addVar:function(e,n){if("string"==typeof e)t.vars[e]=n;else if("object"==typeof e){var r,i=e;for(r in i)i.hasOwnProperty(r)&&(t.vars[r]=i[r])}return this},removeVar:function(e){var n,r;if(!arguments.length)return this;for(r=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(e)?e:arguments,n=0;n<r.length;n++)t.vars.hasOwnProperty(r[n])&&delete t.vars[r[n]];return this},hasVar:function(e){return t.vars.hasOwnProperty(e)},setVarPriority:function(e,n){return"number"!=typeof n||1!==Math.abs(n)?this:(t.varPriority[n][e]=1,this)},requestStart:function(e){var t=BOOMR.now();return BOOMR.plugins.RT.startTimer("xhr_"+e,t),{loaded:function(n){BOOMR.responseEnd(e,t,n)}}},readyToSend:function(){var e;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(t.disabled_plugins[e])continue;if("function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return BOOMR.debug("Plugin "+e+" is not ready to send"),!1}return!0},responseEnd:function(e,n,r){if(BOOMR.readyToSend())"object"==typeof e&&e.url?t.fireEvent("xhr_load",e):(BOOMR.real_sendBeacon(),BOOMR.addVar("xhr.pg",e),BOOMR.plugins.RT.startTimer("xhr_"+e,n),t.fireEvent("xhr_load",{name:"xhr_"+e,data:r}));else if("object"!=typeof e){var i=e+"|"+(BOOMR.now()-n);t.vars.qt?t.vars.qt+=","+i:t.vars.qt=i}else BOOMR.debug("Attempt to send a resource before a security token")},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(e){return e&&(t.beacon_url_override=e),t.beaconQueued||(t.beaconQueued=!0,BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)),!0},real_sendBeacon:function(){var n,i,o,a,s,d=[],u=[],O=1,c={},l={},p=[],m=[];if(!t.beaconQueued)return!1;t.beaconQueued=!1,BOOMR.debug("Checking if we can send beacon");for(n in this.plugins)if(this.plugins.hasOwnProperty(n)){if(t.disabled_plugins[n])continue;if(!this.plugins[n].is_complete())return BOOMR.debug("Plugin "+n+" is not complete, deferring beacon send"),!1}var g=BOOMR.utils.inArray(t.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),f=g?r.URL:r.URL.replace(/#.*/,"");t.vars.pgu=BOOMR.utils.cleanupURL(f),t.vars.u&&!g||(t.vars.u=t.vars.pgu),t.vars.pgu===t.vars.u&&delete t.vars.pgu,t.vars.v=BOOMR.version,BOOMR.visibilityState()&&(t.vars["vis.st"]=BOOMR.visibilityState(),BOOMR.lastVisibilityEvent.visible&&(t.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible),BOOMR.lastVisibilityEvent.hidden&&(t.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)),t.vars["ua.plt"]=navigator.platform,t.vars["ua.vnd"]=navigator.vendor,e!==window&&(t.vars.if="");for(n in t.errors)t.errors.hasOwnProperty(n)&&d.push(n+(t.errors[n]>1?" (*"+t.errors[n]+")":""));if(d.length>0&&(t.vars.errors=d.join("\n")),t.errors={},t.fireEvent("before_beacon",t.vars),t.beacon_url=t.beacon_url_override||t.beacon_url,BOOMR.debug("Ready to send beacon: "+BOOMR.utils.objectToString(t.vars)),!t.beacon_url)return BOOMR.debug("No beacon URL, so skipping."),!0;for(n in t.vars)t.vars.hasOwnProperty(n)&&(c[n]=t.vars[n],l[n]=t.vars[n]);if(p=this.getVarsOfPriority(l,-1),m=this.getVarsOfPriority(l,1),u=p.concat(this.getVarsOfPriority(l,0),m),a=u.join("&"),i=t.beacon_url+(t.beacon_url.indexOf("?")>-1?"&":"?")+a,("POST"===t.beacon_type||i.length>BOOMR.constants.MAX_GET_LENGTH)&&(O=!1),BOOMR.removeVar("qt"),t.fireEvent("onbeacon",c),0===u.length)return this;if(BOOMR.orig_XMLHttpRequest||BOOMR.window&&BOOMR.window.XMLHttpRequest||(O=!0),O){if(o=new Image,o.src=i,t.secondary_beacons)for(n=0;n<t.secondary_beacons.length;n++)i=t.secondary_beacons[n]+"?"+a,o=new Image,o.src=i}else s=new(BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest),s.open("POST",t.beacon_url),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),void 0!==t.beacon_auth_token&&(void 0===t.beacon_auth_key&&(t.beacon_auth_key="Authorization"),s.setRequestHeader(t.beacon_auth_key,t.beacon_auth_token)),s.send(a);return!0},getVarsOfPriority:function(e,n){var r,i=[];if(0!==n)for(r in t.varPriority[n])t.varPriority[n].hasOwnProperty(r)&&e.hasOwnProperty(r)&&(i.push(this.getUriEncodedVar(r,e[r])),delete e[r]);else for(r in e)e.hasOwnProperty(r)&&i.push(this.getUriEncodedVar(r,e[r]));return i},getUriEncodedVar:function(e,t){return encodeURIComponent(e)+"="+(void 0===t||null===t?"":encodeURIComponent(t))},getResourceTiming:function(e,t){var n;try{if(BOOMR.getPerformance()&&"function"==typeof BOOMR.getPerformance().getEntriesByName&&(n=BOOMR.getPerformance().getEntriesByName(e))&&n.length)return"function"==typeof t&&n.sort(t),n[n.length-1]}catch(e){}}},delete BOOMR_start,"number"==typeof BOOMR_lstart?(n.t_lstart=BOOMR_lstart,delete BOOMR_lstart):"number"==typeof BOOMR.window.BOOMR_lstart&&(n.t_lstart=BOOMR.window.BOOMR_lstart),"number"==typeof BOOMR.window.BOOMR_onload&&(n.t_onload=BOOMR.window.BOOMR_onload),function(){var e;"object"==typeof console&&void 0!==console.log&&(n.log=function(e,t,n){console.log(n+": ["+t+"] "+e)}),e=function(e){return function(t,n){return this.log(t,e,"boomerang"+(n?"."+n:"")),this}},n.debug=e("debug"),n.info=e("info"),n.warn=e("warn"),n.error=e("error")}(),function(){var e;for(e in n)n.hasOwnProperty(e)&&(BOOMR[e]=n[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}(),a("onBoomerangLoaded",{BOOMR:BOOMR},!0))}(window),function(){if(BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.NavigationTiming){var e={complete:!1,sendBeacon:function(){this.complete=!0,BOOMR.sendBeacon()},xhr_done:function(t){var n;if(t&&"spa_hard"===t.initiator)return void e.done(t);if(t&&"spa"===t.initiator)return void e.sendBeacon();var r,i,o=(BOOMR.window,{});if(t){if(t.data&&(t=t.data),n=BOOMR.getPerformance(),t.url&&n&&(r=BOOMR.getResourceTiming(t.url,function(e,t){return e.responseEnd-t.responseEnd}))){o={nt_red_st:r.redirectStart,nt_red_end:r.redirectEnd,nt_fet_st:r.fetchStart,nt_dns_st:r.domainLookupStart,nt_dns_end:r.domainLookupEnd,nt_con_st:r.connectStart,nt_con_end:r.connectEnd,nt_req_st:r.requestStart,nt_res_st:r.responseStart,nt_res_end:r.responseEnd},r.secureConnectionStart&&(o.nt_ssl_st=r.secureConnectionStart);for(i in o)o.hasOwnProperty(i)&&o[i]&&(o[i]+=n.timing.navigationStart,o[i]=Math.round(o[i]))}t.timing&&(r=t.timing,o.nt_req_st||(o.nt_req_st=r.requestStart),o.nt_res_st||(o.nt_res_st=r.responseStart),o.nt_res_end||(o.nt_res_end=r.responseEnd),o.nt_domint=r.domInteractive,o.nt_domcomp=r.domComplete,o.nt_load_st=r.loadEventEnd,o.nt_load_end=r.loadEventEnd);for(i in o)o.hasOwnProperty(i)&&!o[i]&&delete o[i];BOOMR.addVar(o);try{e.addedVars.push.apply(e.addedVars,Object.keys(o))}catch(e){}e.sendBeacon()}},done:function(){var t,n,r,i;BOOMR.window;if(this.complete)return this;if(e.addedVars=[],(t=BOOMR.getPerformance())&&t.timing&&t.navigation){BOOMR.info("This user agent supports NavigationTiming.","nt"),n=t.navigation,r=t.timing,i={nt_red_cnt:n.redirectCount,nt_nav_type:n.type,nt_nav_st:r.navigationStart,nt_red_st:r.redirectStart,nt_red_end:r.redirectEnd,nt_fet_st:r.fetchStart,nt_dns_st:r.domainLookupStart,nt_dns_end:r.domainLookupEnd,nt_con_st:r.connectStart,nt_con_end:r.connectEnd,nt_req_st:r.requestStart,nt_res_st:r.responseStart,nt_res_end:r.responseEnd,nt_domloading:r.domLoading,nt_domint:r.domInteractive,nt_domcontloaded_st:r.domContentLoadedEventStart,nt_domcontloaded_end:r.domContentLoadedEventEnd,nt_domcomp:r.domComplete,nt_load_st:r.loadEventStart,nt_load_end:r.loadEventEnd,nt_unload_st:r.unloadEventStart,nt_unload_end:r.unloadEventEnd},r.secureConnectionStart&&(i.nt_ssl_st=r.secureConnectionStart),r.msFirstPaint&&(i.nt_first_paint=r.msFirstPaint),BOOMR.addVar(i);try{e.addedVars.push.apply(e.addedVars,Object.keys(i))}catch(e){}}e.sendBeacon()},clear:function(){e.addedVars&&e.addedVars.length>0&&(BOOMR.removeVar(e.addedVars),e.addedVars=[]),this.complete=!1},prerenderToVisible:function(){this.complete=!1,this.done()}};BOOMR.plugins.NavigationTiming={init:function(){return e.initialized||(BOOMR.subscribe("page_ready",e.done,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("xhr_load",e.xhr_done,null,e),BOOMR.subscribe("before_unload",e.done,null,e),BOOMR.subscribe("onbeacon",e.clear,null,e),e.initialized=!0),this},is_complete:function(){return!0}}}}(),function(e){var t,n;BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},BOOMR.plugins.RT||(n={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,cached_t_start:void 0,cached_xhr_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},addedVars:[],updateCookie:function(e,t){var r,i,o,a;if(!this.cookie)return!1;if(o=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{},"object"==typeof e)for(a in e)e.hasOwnProperty(a)&&(void 0===e[a]?o.hasOwnProperty(a)&&delete o[a]:("nu"!==a&&"r"!==a||(e[a]=BOOMR.utils.hashQueryString(e[a],!0)),o[a]=e[a]));return i=BOOMR.now(),t&&(o[t]=i,n.lastActionTime=i),BOOMR.debug("Setting cookie (timer="+t+")\n"+BOOMR.utils.objectToString(o),"rt"),BOOMR.utils.setCookie(this.cookie,o,this.cookie_exp)?(r=BOOMR.now(),r-i>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+i+" -> "+r,"rt")),!0):(BOOMR.error("cannot set start cookie","rt"),!1)},initFromCookie:function(){var e,n;(n=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie)))&&(n.s=Math.max(+n.ld||0,Math.max(+n.ul||0,+n.cl||0)),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(n),"rt"),n.s&&(n.r||n.nu)&&(this.r=n.r,e=BOOMR.utils.hashQueryString(t.URL,!0),BOOMR.debug(this.r+" =?= "+this.r2,"rt"),BOOMR.debug(n.s+" <? "+(+n.cl+15),"rt"),BOOMR.debug(n.nu+" =?= "+e,"rt"),!this.strict_referrer||n.nu&&n.nu===e&&n.s<+n.cl+15||n.s===+n.ul&&this.r===this.r2?(this.t_start=n.s,+n.hd>n.s&&(this.t_fb_approx=parseInt(n.hd,10))):this.t_start=this.t_fb_approx=void 0),this.updateCookie({s:void 0,r:void 0,nu:void 0,ul:void 0,cl:void 0,hd:void 0,ld:void 0,rl:void 0}))},getBoomerangTimings:function(){function e(e,t){var n=Math.round(e||0),r=Math.round(t||0);return(n=0===n?0:n-r)||""}var t,r,i,o,a;BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName){r={"rt.bmr":BOOMR.url};for(i in r)if(r.hasOwnProperty(i)&&r[i]){if(!(t=window.performance.getEntriesByName(r[i]))||0===t.length||!t[0])continue;t=t[0],o=e(t.startTime,0),a=[o,e(t.responseEnd,o),e(t.responseStart,o),e(t.requestStart,o),e(t.connectEnd,o),e(t.secureConnectionStart,o),e(t.connectStart,o),e(t.domainLookupEnd,o),e(t.domainLookupStart,o),e(t.redirectEnd,o),e(t.redirectStart,o)].join(",").replace(/,+$/,""),BOOMR.addVar(i,a),n.addedVars.push(i)}}}catch(e){BOOMR.addError(e,"rt.getBoomerangTimings")}},checkPreRender:function(){return"prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var t,n,r;this.navigationStart||(n=BOOMR.getPerformance(),n&&n.navigation&&(this.navigationType=n.navigation.type),n&&n.timing?t=n.timing:e.chrome&&e.chrome.csi&&e.chrome.csi().startE?(t={navigationStart:e.chrome.csi().startE},r="csi"):e.gtbExternal&&e.gtbExternal.startE()&&(t={navigationStart:e.gtbExternal.startE()},r="gtb"),t?(BOOMR.addVar("rt.start",r||"navigation"),this.navigationStart=t.navigationStart||t.fetchStart||void 0,this.responseStart=t.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=t.unloadEventStart||t.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"))},validateLoadTimestamp:function(e,t,n){var r;if(t&&t.timing&&t.timing.loadEventEnd)return t.timing.loadEventEnd;if(!("xhr"!==n||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)))return e;if(BOOMR.loadedLate){if(!(r=BOOMR.getPerformance())||!r.timing)return BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||e;if(r.timing.loadEventStart&&r.timing.loadEventStart<BOOMR.t_end)return r.timing.loadEventStart}return e},setPageLoadTimers:function(e,t,r){var i,o,a,s;if("xhr"!==e&&(n.initFromCookie(),n.initFromNavTiming(),n.checkPreRender()))return!1;if("xhr"===e){if(r.timers)for(var d in r.timers)r.timers.hasOwnProperty(d)&&BOOMR.plugins.RT.setTimer(d,r.timers[d]);else if(r&&r.timing){i=r.timing.responseEnd,o=r.timing.fetchStart,a=BOOMR.getPerformance();var u=BOOMR.getResourceTiming(r.url);u&&a&&(s=a.timing.navigationStart,i=Math.round(s+u.responseEnd),o=Math.round(s+u.startTime))}}else n.responseStart?i=n.responseStart:n.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):n.t_fb_approx&&(i=n.t_fb_approx);return i&&(o?BOOMR.plugins.RT.setTimer("t_resp",o,i):BOOMR.plugins.RT.endTimer("t_resp",i),n.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",n.timers.t_load.end-i):t<i?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",t-i)),n.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0},setSupportingTimestamps:function(e){e&&BOOMR.addVar("rt.tstart",e),"number"==typeof n.t_start&&n.t_start!==e&&BOOMR.addVar("rt.cstart",n.t_start),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart),BOOMR.addVar("rt.end",n.timers.t_done.end)},determineTStart:function(e,t){var r;return"xhr"===e?(t&&t.name&&n.timers[t.name]?r=n.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(r=t.timing.requestStart),void 0===r&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual"),n.cached_xhr_start=r):(n.navigationStart?r=n.navigationStart:n.t_start&&2!==n.navigationType?(r=n.t_start,BOOMR.addVar("rt.start","cookie")):n.cached_t_start?r=n.cached_t_start:(BOOMR.addVar("rt.start","none"),r=void 0),n.cached_t_start=r),BOOMR.debug("Got start time: "+r,"rt"),r},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(n.visiblefired=!0)},prerenderToVisible:function(){n.onloadfired&&n.autorun&&(BOOMR.debug("Transitioned from prerender to "+BOOMR.visibilityState(),"rt"),BOOMR.addVar("vis.pre","1"),BOOMR.plugins.RT.done(null,"visible"))},page_unload:function(e){BOOMR.debug("Unload called when unloadfired = "+this.unloadfired,"rt"),this.unloadfired||BOOMR.plugins.RT.done(e,"unload"),this.updateCookie({r:t.URL},"beforeunload"===e.type?"ul":"hd"),this.unloadfired=!0},_iterable_click:function(e,t,r,i){var o;if(r){for(BOOMR.debug(e+" called with "+r.nodeName,"rt");r&&r.nodeName.toUpperCase()!==t;)r=r.parentNode;r&&r.nodeName.toUpperCase()===t&&(BOOMR.debug("passing through","rt"),o=i(r),this.updateCookie({nu:o},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(o)),n.addedVars.push("nu"))}},onclick:function(e){n._iterable_click("Click","A",e,function(e){return e.href})},onerror:function(){this.onloadfired&&(n.complete=!0)},onsubmit:function(e){n._iterable_click("Submit","FORM",e,function(e){var n=e.getAttribute("action")||t.URL||"";return n.match(/\?/)?n:n+"?"})},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){BOOMR.removeVar("rt.start"),n.addedVars&&n.addedVars.length>0&&(BOOMR.removeVar(n.addedVars),n.addedVars=[])}},BOOMR.plugins.RT={init:function(r){if(BOOMR.debug("init RT","rt"),e!==BOOMR.window&&(e=BOOMR.window),e&&e.document)return t=e.document,BOOMR.utils.pluginConfig(n,r,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]),r&&void 0!==r.autorun&&(n.autorun=r.autorun),void 0!==t&&(n.r=n.r2=BOOMR.utils.hashQueryString(t.referrer,!0)),n.initFromCookie(),n.initialized?this:(n.complete=!1,n.timers={},n.check_visibility(),BOOMR.subscribe("page_ready",n.page_ready,null,n),BOOMR.subscribe("visibility_changed",n.check_visibility,null,n),BOOMR.subscribe("prerender_to_visible",n.prerenderToVisible,null,n),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("dom_loaded",n.domloaded,null,n),BOOMR.subscribe("page_unload",n.page_unload,null,n),BOOMR.subscribe("click",n.onclick,null,n),BOOMR.subscribe("form_submit",n.onsubmit,null,n),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("onbeacon",n.clear,null,n),BOOMR.subscribe("onerror",n.onerror,null,n),BOOMR.getBeaconURL=function(){return n.beacon_url},n.initialized=!0,this)},startTimer:function(e,t){return e&&("t_page"===e&&this.endTimer("t_resp",t),n.timers[e]={start:"number"==typeof t?t:BOOMR.now()}),this},endTimer:function(e,t){return e&&(n.timers[e]=n.timers[e]||{},void 0===n.timers[e].end&&(n.timers[e].end="number"==typeof t?t:BOOMR.now())),this},setTimer:function(e,t,r){return e&&(n.timers[e]=void 0!==r?{start:t,end:r,delta:r-t}:{delta:t}),this},addTimersToBeacon:function(e,t){var r,i,o=[];for(r in n.timers)if(n.timers.hasOwnProperty(r)){if(i=n.timers[r],"number"!=typeof i.delta&&("number"!=typeof i.start&&(i.start="xhr"===t?n.cached_xhr_start:n.cached_t_start),i.delta=i.end-i.start),isNaN(i.delta))continue;n.basic_timers.hasOwnProperty(r)?(BOOMR.addVar(r,i.delta),n.addedVars.push(r)):o.push(r+"|"+i.delta)}o.length&&(BOOMR.addVar("t_other",o.join(",")),n.addedVars.push("t_other")),"beacon"===t&&(n.timers={},n.complete=!1)},done:function(e,t){BOOMR.debug("Called done: "+t,"rt");var r,i,o=BOOMR.now(),a=!1;return n.complete=!1,i=n.validateLoadTimestamp(o,e,t),"load"!==t&&"visible"!==t&&"xhr"!==t||n.setPageLoadTimers(t,i,e)?(("load"===t||"visible"===t||"xhr"===t&&e&&BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))&&n.getBoomerangTimings(),r=n.determineTStart(t,e),this.endTimer("t_done",i),e&&"xhr"===e.initiator&&this.setTimer("t_done",e.timing.requestStart,e.timing.loadEventEnd),BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","http.errno","http.method","xhr.sync"),n.setSupportingTimestamps(r),this.addTimersToBeacon(null,t),BOOMR.addVar("r",BOOMR.utils.cleanupURL(n.r)),n.r2!==n.r&&BOOMR.addVar("r2",BOOMR.utils.cleanupURL(n.r2)),"xhr"===t&&e&&e&&e.data&&(e=e.data),"xhr"===t&&e&&(a=e.subresource,e.url&&(BOOMR.addVar("u",BOOMR.utils.cleanupURL(e.url.replace(/#.*/,""))),n.addedVars.push("u")),e.status&&(e.status<-1||e.status>=400)&&BOOMR.addVar("http.errno",e.status),e.method&&"GET"!==e.method&&BOOMR.addVar("http.method",e.method),
e.headers&&BOOMR.addVar("http.hdr",e.headers),e.synchronous&&BOOMR.addVar("xhr.sync",1),e.initiator&&BOOMR.addVar("http.initiator",e.initiator),n.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator")),a&&"passive"!==a&&(BOOMR.addVar("rt.subres",1),n.addedVars.push("rt.subres")),n.updateCookie(),"unload"===t&&(BOOMR.addVar("rt.quit",""),n.onloadfired||BOOMR.addVar("rt.abld",""),n.visiblefired||BOOMR.addVar("rt.ntvu","")),n.complete=!0,BOOMR.sendBeacon(),this):this},is_complete:function(){return n.complete},updateCookie:function(){n.updateCookie()},navigationStart:function(){return n.navigationStart||n.initFromNavTiming(),n.navigationStart}})}(window),function(e){BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{};var t={cookieName:"sqvisitor",cookieExpiry:3156e4,complete:!1,visitorId:null,loadCookie:function(){var e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookieName));e?(this.visitorId=e.id,BOOMR.debug("Loaded cookie "+BOOMR.utils.objectToString(e),"sqvisitor")):(this.visitorId=this.getGuid(),BOOMR.debug("No cookie, new visitor "+this.visitorId,"sqvisitor")),BOOMR.addVar("sqvisitor.visitorid",this.visitorId)},setCookie:function(){var e={};return e.id=this.visitorId,BOOMR.utils.setCookie(this.cookieName,e,this.cookieExpiry)?(BOOMR.debug("Wrote visitor cookie "+BOOMR.utils.objectToString(e),"sqvisitor"),this.complete=!0,this):(BOOMR.error("can't set visitor cookie "+BOOMR.utils.objectToString(e),"sqvisitor"),this)},getGuid:function(e){return e?(0|16*Math.random()).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/1|0/g,getGuid)}};BOOMR.plugins.SQVISITOR={init:function(e){return BOOMR.debug("init SQVISITOR","sqvisitor"),t.loadCookie(),t.setCookie(),this},is_complete:function(){return t.complete}}}(window),function(e){e.document;BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},getGuid=function(e){return e?(0|16*Math.random()).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/1|0/g,getGuid)};var t={cookieName:"sqsess",cookieExpiry:1800,complete:!1,sessionId:null,accelerated:null,loadCookie:function(){var e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookieName));e?(this.sessionId=e.id,BOOMR.debug("Loaded cookie "+BOOMR.utils.objectToString(e),"sqsess")):(this.sessionId=getGuid(),BOOMR.debug("No cookie, new session "+this.sessionId,"sqsess")),BOOMR.addVar("sqsess.sessionid",this.sessionId),"undefined"!=typeof sq_abcookiename&&(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(sq_abcookiename)))&&(this.accelerated=e.accelerated,BOOMR.debug("Loaded cookie "+BOOMR.utils.objectToString(e),sq_abcookiename),BOOMR.addVar("sqtest.accelerated",this.accelerated))},setCookie:function(){var e={};return e.id=this.sessionId,BOOMR.utils.setCookie(this.cookieName,e,this.cookieExpiry)?(BOOMR.debug("Wrote cookie cookie "+BOOMR.utils.objectToString(e),"sqsess"),this.complete=!0,this):(BOOMR.error("can't set session cookie "+BOOMR.utils.objectToString(e),"sqsess"),this)}};BOOMR.plugins.SQSESS={init:function(e){return BOOMR.debug("init SQSESS","sqsess"),t.loadCookie(),t.setCookie(),this},is_complete:function(){return t.complete}}}(window),function(e){BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{};var t={loadConfig:function(){var t=e.document,n=t.getElementsByTagName("script")[0],r=t.createElement("script"),i=t.location.hostname;r.src="/.well-known/section-io/rum/"+encodeURIComponent(i)+".js?version="+sq_rumversion,n.parentNode.insertBefore(r,n),n=r=null}};BOOMR.plugins.SQCFG={done:!1,init:function(e){return BOOMR.debug("init SQCFG","sqcfg"),t.loadConfig(),this.done=!0,this},is_complete:function(){return this.done}}}(window);